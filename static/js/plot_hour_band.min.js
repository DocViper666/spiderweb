var hour_band=function(b,a,f){var c=document.getElementById(b);c=echarts.init(c);var d=[];f.forEach(function(c,b){d[b]=c.id});this.refresh(c,a,d);var e=echarts.init(document.querySelector("#"+b),null);window.addEventListener("resize",function(){e.resize()})};
hour_band.prototype.refresh=function(b,a,f){$.getJSON(a).done(function(c){for(var d=get_last_refresh(c),e=[],a=23;-1<a;a--){var g={};g.name=a.toString();e.push(g)}var h=[];f.forEach(function(a){for(var b=[],d=23;-1<d;d--)try{var e=c.hour_band[a][d];"undefined"==typeof e&&(e=0);b.push(e)}catch(k){}h.push({value:b,name:a})});b.setOption({legend:{orient:"horizontal",left:"left",bottom:"bottom"},title:{text:"DX SPOTS per hour in last month",subtext:d,top:"top",right:"right"},tooltip:{trigger:"axis"},
toolbox:{show:!0,showTitle:!1,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},dataView:{show:!0,readOnly:!0},restore:{show:!0},saveAsImage:{show:!0}}},radar:{shape:"circle",startAngle:105,indicator:e,center:["47%","46%"],axisName:{color:"rgb(80,80,80)"}},series:[{lineStyle:{width:2},type:"radar",symbol:"none",data:h,tooltip:{trigger:"item",formatter:function(a){return"Band: "+a.name}},emphasis:{lineStyle:{width:4}}}]})})};
var plot_hb=new hour_band("chart-hour_band","/plot_get_hour_band",band_frequencies);